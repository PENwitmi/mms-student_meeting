# Firestore インデックス設定

## エラー内容
学生アカウントでファイル一覧を取得しようとすると、複合インデックスが必要というエラーが発生します。

## 解決方法

### 方法1: エラーメッセージのURLを使用（推奨）
1. ブラウザのコンソールに表示されたURLをクリック
2. Firebase Consoleにリダイレクトされる
3. 「インデックスを作成」ボタンをクリック
4. 作成完了まで数分待つ

### 方法2: Firebase Consoleから手動作成
1. [Firebase Console](https://console.firebase.google.com) にアクセス
2. `mms-student-meeting` プロジェクトを選択
3. 左メニューから「Firestore Database」を選択
4. 「インデックス」タブをクリック
5. 「インデックスを作成」をクリック
6. 以下の設定を入力：

```
コレクション ID: files
フィールド:
  1. studentId (昇順)
  2. createdAt (降順)
クエリスコープ: コレクション
```

## 必要なインデックス一覧

### files コレクション
| フィールド1 | フィールド2 | 用途 |
|-----------|-----------|------|
| studentId (昇順) | createdAt (降順) | 学生別ファイル一覧の取得 |

## インデックス作成の注意点
- 作成には2-5分程度かかります
- 作成中もアプリケーションは使用可能（該当クエリ以外）
- 一度作成すれば永続的に有効

## 確認方法
1. Firebase Console > Firestore > インデックス
2. ステータスが「有効」になっていることを確認
3. アプリケーションで学生アカウントでログインし、ファイル一覧が表示されることを確認