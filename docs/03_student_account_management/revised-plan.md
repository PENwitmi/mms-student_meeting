# å­¦ç”Ÿã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†æ©Ÿèƒ½ æ”¹è¨‚ç‰ˆå®Ÿè£…è¨ˆç”»

## æ–¹é‡å¤‰æ›´ï¼šå­¦ç”Ÿè‡ªå·±ç™»éŒ²æ–¹å¼

### å¤‰æ›´ç†ç”±
- ç®¡ç†è€…ç”»é¢ã‹ã‚‰ã®ä½œæˆã¯Firebase Authã®åˆ¶ç´„ã§è¤‡é›‘
- å­¦ç”ŸãŒè‡ªåˆ†ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã§ãã‚‹ï¼ˆã‚»ã‚­ãƒ¥ã‚¢ï¼‰
- ä¸€èˆ¬çš„ãªWebã‚µãƒ¼ãƒ“ã‚¹ã¨åŒã˜UXã§ç†è§£ã—ã‚„ã™ã„
- å®Ÿè£…ãŒã‚·ãƒ³ãƒ—ãƒ«ï¼ˆ5-6æ™‚é–“ â†’ 3-4æ™‚é–“ï¼‰

## æ–°ã—ã„å®Ÿè£…æ–¹é‡

### 1. å­¦ç”Ÿç™»éŒ²ãƒ•ãƒ­ãƒ¼
```
1. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ã€Œæ–°è¦ç™»éŒ²ã€ãƒªãƒ³ã‚¯
2. å­¦ç”Ÿç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º
3. å¿…è¦æƒ…å ±å…¥åŠ›ï¼ˆãƒ¡ãƒ¼ãƒ«ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€åå‰ã€å­¦ç±ç•ªå·ç­‰ï¼‰
4. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
5. è‡ªå‹•çš„ã«å­¦ç”Ÿãƒ­ãƒ¼ãƒ«ã§ç™»éŒ²
6. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
```

### 2. ç®¡ç†è€…ã®å½¹å‰²
- å­¦ç”Ÿä¸€è¦§ã®ç¢ºèª
- å­¦ç”Ÿæƒ…å ±ã®ç·¨é›†
- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç„¡åŠ¹åŒ–
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ”¯æ´

## å®Ÿè£…å†…å®¹

### Phase 1: å­¦ç”Ÿè‡ªå·±ç™»éŒ²ï¼ˆ2-3æ™‚é–“ï¼‰

#### A. ç™»éŒ²ç”»é¢ã®ä½œæˆ
```typescript
// pages/Register.tsx
export function Register() {
  const [formData, setFormData] = useState({
    email: '',
    password: '',
    confirmPassword: '',
    name: '',
    studentId: '',
    grade: 1,
    class: ''
  });

  const handleRegister = async () => {
    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    if (formData.password !== formData.confirmPassword) {
      throw new Error('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“');
    }

    // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
    const userCredential = await createUserWithEmailAndPassword(
      auth,
      formData.email,
      formData.password
    );

    // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä½œæˆ
    await setDoc(doc(db, 'users', userCredential.user.uid), {
      uid: userCredential.user.uid,
      email: formData.email,
      name: formData.name,
      role: 'student',  // è‡ªå‹•çš„ã«å­¦ç”Ÿãƒ­ãƒ¼ãƒ«
      studentId: formData.studentId,
      grade: formData.grade,
      class: formData.class,
      createdAt: serverTimestamp(),
      updatedAt: serverTimestamp()
    });

    // ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸
    navigate('/login');
  };
}
```

#### B. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®ä¿®æ­£
```typescript
// pages/Login.tsx
<div className="text-center mt-4">
  <span className="text-gray-600">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„æ–¹ã¯</span>
  <Link to="/register" className="text-indigo-600 hover:text-indigo-500 ml-1">
    æ–°è¦ç™»éŒ²
  </Link>
</div>
```

### Phase 2: ç®¡ç†è€…å‘ã‘å­¦ç”Ÿç®¡ç†ï¼ˆ2æ™‚é–“ï¼‰

#### A. å­¦ç”Ÿä¸€è¦§ç”»é¢
- ç™»éŒ²æ¸ˆã¿å­¦ç”Ÿã®ç¢ºèª
- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½
- å­¦ç”Ÿæƒ…å ±ã®è©³ç´°è¡¨ç¤º

#### B. å­¦ç”Ÿæƒ…å ±ç·¨é›†
- åå‰ã€å­¦å¹´ã€ã‚¯ãƒ©ã‚¹ã®ç·¨é›†
- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ

### Phase 3: åˆå›ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€1æ™‚é–“ï¼‰
å¿…è¦ã«å¿œã˜ã¦å®Ÿè£…ï¼š
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ãƒã‚§ãƒƒã‚¯
- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è£œå®Œè¦æ±‚
- åˆ©ç”¨è¦ç´„åŒæ„

## ãƒ¡ãƒªãƒƒãƒˆ

### 1. å®Ÿè£…ãŒã‚·ãƒ³ãƒ—ãƒ«
- Firebase Authã®åˆ¶ç´„ã‚’å›é¿
- ã‚»ã‚«ãƒ³ãƒ€ãƒªAuthã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸è¦
- ç®¡ç†è€…ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ä¸è¦

### 2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Š
- å­¦ç”ŸãŒè‡ªåˆ†ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š
- åˆæœŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å—ã‘æ¸¡ã—ä¸è¦
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¼æ´©ãƒªã‚¹ã‚¯ä½æ¸›

### 3. UXæ”¹å–„
- ä¸€èˆ¬çš„ãªã‚µãƒ¼ãƒ“ã‚¹ã¨åŒã˜ãƒ•ãƒ­ãƒ¼
- å­¦ç”Ÿã®è‡ªä¸»æ€§ã‚’å°Šé‡
- ç®¡ç†è€…ã®ä½œæ¥­è² è·è»½æ¸›

## å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Day 1ï¼ˆ3-4æ™‚é–“ï¼‰
1. **å­¦ç”Ÿç™»éŒ²æ©Ÿèƒ½**
   - Register.tsxã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
   - Firestoreä¿å­˜å‡¦ç†

2. **ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢æ›´æ–°**
   - æ–°è¦ç™»éŒ²ãƒªãƒ³ã‚¯è¿½åŠ 
   - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š

### Day 2ï¼ˆ2-3æ™‚é–“ï¼‰â€»ã‚ªãƒ—ã‚·ãƒ§ãƒ³
3. **ç®¡ç†è€…å‘ã‘æ©Ÿèƒ½**
   - å­¦ç”Ÿä¸€è¦§è¡¨ç¤º
   - å­¦ç”Ÿæƒ…å ±ç·¨é›†
   - æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
src/pages/
â”œâ”€â”€ Login.tsx          # æ—¢å­˜ï¼ˆä¿®æ­£ï¼‰
â”œâ”€â”€ Register.tsx       # æ–°è¦ï¼šå­¦ç”Ÿç™»éŒ²ç”»é¢
â””â”€â”€ Dashboard.tsx      # æ—¢å­˜

src/features/students/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ StudentList.tsx        # å­¦ç”Ÿä¸€è¦§ï¼ˆç®¡ç†è€…ç”¨ï¼‰
â”‚   â”œâ”€â”€ StudentCard.tsx        # å­¦ç”Ÿã‚«ãƒ¼ãƒ‰
â”‚   â””â”€â”€ EditStudentModal.tsx   # ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«
â””â”€â”€ hooks/
    â””â”€â”€ useStudentList.ts      # å­¦ç”Ÿãƒªã‚¹ãƒˆç®¡ç†
```

## ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«

### ç™»éŒ²æ™‚ã®æ¤œè¨¼
```typescript
const validateRegistration = (data: RegistrationData) => {
  const errors: ValidationErrors = {};

  // ãƒ¡ãƒ¼ãƒ«
  if (!data.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
    errors.email = 'æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
  }

  // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
  if (data.password.length < 8) {
    errors.password = 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šå¿…è¦ã§ã™';
  }

  // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª
  if (data.password !== data.confirmPassword) {
    errors.confirmPassword = 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“';
  }

  // åå‰
  if (!data.name.trim()) {
    errors.name = 'åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
  }

  // å­¦ç±ç•ªå·
  if (!data.studentId.match(/^\d{6,}$/)) {
    errors.studentId = 'å­¦ç±ç•ªå·ã¯6æ¡ä»¥ä¸Šã®æ•°å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„';
  }

  return errors;
};
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### 1. ã‚¹ãƒ‘ãƒ ç™»éŒ²å¯¾ç­–
- reCAPTCHAå®Ÿè£…ï¼ˆå°†æ¥ï¼‰
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹æ¤œè¨¼

### 2. ãªã‚Šã™ã¾ã—é˜²æ­¢
- å­¦ç±ç•ªå·ã®ä¸€æ„æ€§ãƒã‚§ãƒƒã‚¯
- ç®¡ç†è€…ã«ã‚ˆã‚‹æ‰¿èªãƒ•ãƒ­ãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- ãƒ¡ãƒ¼ãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ¶é™ï¼ˆå­¦æ ¡ã®ãƒ¡ãƒ¼ãƒ«ã®ã¿ï¼‰

### 3. ãƒ‡ãƒ¼ã‚¿ä¿è­·
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯Firebase Authã§æš—å·åŒ–
- å€‹äººæƒ…å ±ã®æœ€å°é™åé›†
- GDPR/å€‹äººæƒ…å ±ä¿è­·æ³•å¯¾å¿œ

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
const ERROR_MESSAGES = {
  'auth/email-already-in-use': 'ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™',
  'auth/invalid-email': 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“',
  'auth/weak-password': 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¼±ã™ãã¾ã™',
  'student-id-exists': 'ã“ã®å­¦ç±ç•ªå·ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™'
};
```

## æˆåŠŸæŒ‡æ¨™

### å¿…é ˆè¦ä»¶ âœ…
- [ ] å­¦ç”ŸãŒè‡ªåˆ†ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã§ãã‚‹
- [ ] ç™»éŒ²å¾Œã™ãã«ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹
- [ ] ç®¡ç†è€…ãŒå­¦ç”Ÿä¸€è¦§ã‚’ç¢ºèªã§ãã‚‹

### æ¨å¥¨è¦ä»¶ ğŸ“‹
- [ ] å­¦ç±ç•ªå·ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦è¡¨ç¤º
- [ ] ç™»éŒ²ç¢ºèªãƒ¡ãƒ¼ãƒ«ï¼ˆå°†æ¥ï¼‰

## å®Ÿè£…æ™‚é–“
**åˆè¨ˆ: 3-4æ™‚é–“ï¼ˆå¿…é ˆæ©Ÿèƒ½ã®ã¿ï¼‰**

å¤§å¹…ã«ç°¡ç•¥åŒ–ã•ã‚Œã€å®Ÿç”¨çš„ãªå®Ÿè£…ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸï¼